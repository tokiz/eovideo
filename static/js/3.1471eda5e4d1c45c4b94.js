webpackJsonp([3],{"+tzx":function(t,e){},OZnX:function(t,e,a){"use strict";var i={props:{video:Object},computed:{coverUrl:function(){return this.$static+this.video.coverPath}},methods:{videoItemClick:function(){}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{"margin-top":"15px",cursor:"pointer"},attrs:{shadow:"hover","body-style":{padding:"1px"}}},[a("div",[a("img",{staticClass:"image",staticStyle:{position:"relative","z-index":"1"},attrs:{src:t.coverUrl}})]),t._v(" "),a("div",{staticStyle:{padding:"6px",height:"40px"}},[a("span",{staticClass:"title",on:{click:function(e){t.$router.push({path:"/video/"+t.video.id})}}},[t._v(t._s(t.video.videoTitle)+"好好好好好好好好好好好")])])])},staticRenderFns:[]};var o={components:{UserVideoItem:a("VU/8")(i,s,!1,function(t){a("l4Fx")},"data-v-4cd6556a",null).exports},props:{list:Array},data:function(){return{}},created:function(){}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-row",{attrs:{gutter:20}},this._l(this.list,function(t){return e("el-col",{key:t.id,attrs:{span:6}},[e("user-video-item",{attrs:{video:t}})],1)}))],1)],1)],1)},staticRenderFns:[]},n=a("VU/8")(o,r,!1,null,null,null);e.a=n.exports},djVU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{UserVideoList:a("OZnX").a},data:function(){return{uploadFaceDialogVisible:!1,faceFile:"",user:{},activeName:"",userVideoList:[],totalCount:0,totalPage:0,currentPage:1}},created:function(){var t=this;this.$http({url:"/user/myVideoList?page=1&size=20"}).then(function(e){console.log(e.data);var a=e.data.data;t.userVideoList=a.rows,t.totalCount=a.records,t.currentPage=a.page,t.totalPage=a.total})},mounted:function(){0==this.$store.getters.activeStatus&&this.$router.push({path:"/login"})},computed:{backgroundUrl:function(){return console.log(this.id),this.$static+"/default-user-background.webp"},faceUrl:function(){return this.$static+this.$store.state.activeUser.faceImage}},methods:{paginationSizeChange:function(t){var e=this;this.$http({url:"/user/videoList?userId="+this.id+"&size=20&page="+t}).then(function(t){console.log(t.data);var a=t.data.data;e.userVideoList=a.rows,e.currentPage=a.page,e.totalPage=a.total})},handleUploadFaceClose:function(){this.uploadFaceDialogVisible=!1},uploadFace:function(t){var e=this;console.log(t);var a=t.file,i=new FormData;i.append("file",a);var s={headers:{"Content-Type":"multipart/form-data"}};console.log(i.get("file"),s),this.$http.post("/user/uploadFace",i,s).then(function(t){console.log(t.data);var a=t.data;200===a.status?(e.uploadFaceDialogVisible=!1,e.$alert("头像上传成功","提示",{confirmButtonText:"确定"})):e.$alert(a.msg,"提示",{confirmButtonText:"确定"})}).catch(function(t){console.log("error",t)})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{attrs:{id:"user-main"}},[a("div",{style:{backgroundImage:"url("+t.backgroundUrl+")"},attrs:{id:"user-panel"}},[a("div",{staticStyle:{padding:"10px",display:"flex","align-items":"center"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击更换头像",placement:"left"}},[a("img",{staticStyle:{cursor:"pointer",width:"64px",height:"64px","border-radius":"50%",padding:"10px"},attrs:{src:t.faceUrl},on:{click:function(e){t.uploadFaceDialogVisible=!0}}})]),t._v(" "),a("span",{staticStyle:{color:"#fff","font-size":"18px"}},[t._v(t._s(t.$store.state.activeUser.nickname))])],1),t._v(" "),a("el-dialog",{attrs:{title:"上传头像",visible:t.uploadFaceDialogVisible,width:"39%","before-close":t.handleUploadFaceClose},on:{"update:visible":function(e){t.uploadFaceDialogVisible=e}}},[a("span",[t._v("选择文件")]),t._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"1","http-request":t.uploadFace}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t._v(" "),a("div",{attrs:{id:"user-extra"}},[a("div",{staticStyle:{"margin-bottom":"2px",padding:"10px"}},[a("span",{staticStyle:{color:"#303133","font-size":"18px","margin-bottom":"15px"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" 我的")])]),t._v(" "),a("div",{staticStyle:{padding:"10px",display:"flex","align-items":"center"}},[a("div",{staticClass:"extra-item"},[a("span",[t._v("关注")]),t._v(" "),a("span",{staticStyle:{color:"#303133"}},[t._v(t._s(t.$store.state.activeUser.followCounts))])]),t._v(" "),a("div",{staticClass:"extra-item"},[a("span",[t._v("粉丝数")]),t._v(" "),a("span",{staticStyle:{color:"#303133"}},[t._v(t._s(t.$store.state.activeUser.fansCounts))])]),t._v(" "),a("div",{staticClass:"extra-item"},[a("span",[t._v("被收藏数")]),t._v(" "),a("span",{staticStyle:{color:"#303133"}},[t._v(t._s(t.$store.state.activeUser.receiveLikeCounts))])])])])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("div",[a("span",{staticStyle:{"font-size":"20px",color:"#303133"}},[t._v("视频列表 \n                    "),a("span",{staticStyle:{border:"1px solid #E4E7ED","border-radius":"5px","padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.totalCount))])])]),t._v(" "),a("user-video-list",{attrs:{list:t.userVideoList}})],1),t._v(" "),a("div",{attrs:{id:"pagination"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":t.totalPage,"current-page":t.currentPage},on:{"current-change":t.paginationSizeChange}})],1)])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,s,!1,function(t){a("+tzx")},"data-v-0d3d8952",null);e.default=o.exports},l4Fx:function(t,e){}});
//# sourceMappingURL=3.1471eda5e4d1c45c4b94.js.map