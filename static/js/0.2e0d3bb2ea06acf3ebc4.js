webpackJsonp([0],{OZnX:function(t,e,s){"use strict";var i={props:{video:Object},computed:{coverUrl:function(){return this.$static+this.video.coverPath}},methods:{videoItemClick:function(){}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticStyle:{"margin-top":"15px",cursor:"pointer"},attrs:{shadow:"hover","body-style":{padding:"1px"}}},[s("div",[s("img",{staticClass:"image",staticStyle:{position:"relative","z-index":"1"},attrs:{src:t.coverUrl}})]),t._v(" "),s("div",{staticStyle:{padding:"6px",height:"40px"}},[s("span",{staticClass:"title",on:{click:function(e){t.$router.push({path:"/video/"+t.video.id})}}},[t._v(t._s(t.video.videoTitle)+"好好好好好好好好好好好")])])])},staticRenderFns:[]};var r={components:{UserVideoItem:s("VU/8")(i,a,!1,function(t){s("l4Fx")},"data-v-4cd6556a",null).exports},props:{list:Array},data:function(){return{}},created:function(){}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-row",{attrs:{gutter:20}},this._l(this.list,function(t){return e("el-col",{key:t.id,attrs:{span:6}},[e("user-video-item",{attrs:{video:t}})],1)}))],1)],1)],1)},staticRenderFns:[]},o=s("VU/8")(r,n,!1,null,null,null);e.a=o.exports},Ut4t:function(t,e){},jyJz:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{UserVideoList:s("OZnX").a},props:["id"],data:function(){return{user:{},isFollow:!1,activeName:"",userVideoList:[],totalCount:0,totalPage:0,currentPage:1}},created:function(){var t=this;this.$http({url:this.$server+"/user/query?userId="+this.id,method:"post"}).then(function(e){console.log(e.data),t.user=e.data.data,t.getRelation()}),this.$http({url:this.$server+"/user/videoList?userId="+this.id+"&size=20",method:"post"}).then(function(e){console.log(e.data);var s=e.data.data;t.userVideoList=s.rows,t.totalCount=s.records,t.currentPage=s.page,t.totalPage=s.total})},computed:{backgroundUrl:function(){return console.log(this.id),this.$static+"/default-user-background.webp"},faceUrl:function(){return this.$static+this.user.faceImage}},methods:{paginationSizeChange:function(t){var e=this;this.$http({url:this.$server+"/user/videoList?userId="+this.id+"&size=20&page="+t,method:"post"}).then(function(t){console.log(t.data);var s=t.data.data;e.userVideoList=s.rows,e.currentPage=s.page,e.totalPage=s.total})},follow:function(){var t=this;this.$store.getters.activeStatus?this.$http({url:"/user/beyourfans?userId="+this.user.id}).then(function(e){var s=e.data;200===s.status?(t.$message("关注成功！"),t.getRelation()):500===s.status&&t.$message.error(s.msg)}).catch(function(e){t.$message.error("未知错误！")}):this.$alert("请登录后重试","提示",{confirmButtonText:"确定"})},unFollow:function(){var t=this;this.$store.getters.activeStatus?this.$http({url:"/user/dontbeyourfans?userId="+this.user.id}).then(function(e){var s=e.data;200===s.status?(t.$message("取消关注成功"),t.getRelation()):500===s.ststus&&t.$message.error(s.msg)}).catch(function(e){t.$message.error("未知错误！")}):this.$alert("请登录后重试","提示",{confirmButtonText:"确定"})},getRelation:function(){var t=this;this.$http({url:"/user/queryPublisher?publishUserId="+this.user.id}).then(function(e){var s=e.data;200===s.status&&(t.isFollow=s.data.publisher.isFollow)})}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{attrs:{id:"user-main"}},[s("div",{style:{backgroundImage:"url("+t.backgroundUrl+")"},attrs:{id:"user-panel"}},[s("div",{staticStyle:{padding:"10px",display:"flex","align-items":"center"}},[s("img",{staticStyle:{width:"64px",height:"64px","border-radius":"50%",padding:"10px"},attrs:{src:t.faceUrl}}),t._v(" "),s("span",{staticStyle:{color:"#fff","font-size":"18px"}},[t._v(t._s(t.user.nickname))])]),t._v(" "),0==t.isFollow?s("el-button",{staticStyle:{margin:"36px"},attrs:{type:"success",size:"small"},on:{click:t.follow}},[t._v("关注")]):s("el-button",{staticStyle:{margin:"36px"},attrs:{type:"default",size:"small"},on:{click:t.unFollow}},[t._v("已关注")])],1),t._v(" "),s("div",{attrs:{id:"user-extra"}},[s("div",{staticStyle:{"margin-bottom":"2px",padding:"10px"}},[s("span",{staticStyle:{color:"#303133","font-size":"18px","margin-bottom":"15px"}},[s("i",{staticClass:"el-icon-menu"}),t._v(" TA的投稿")])]),t._v(" "),s("div",{staticStyle:{padding:"10px",display:"flex","align-items":"center"}},[s("div",{staticClass:"extra-item"},[s("span",[t._v("他的关注")]),t._v(" "),s("span",{staticStyle:{color:"#303133"}},[t._v(t._s(t.user.followCounts))])]),t._v(" "),s("div",{staticClass:"extra-item"},[s("span",[t._v("粉丝数")]),t._v(" "),s("span",{staticStyle:{color:"#303133"}},[t._v(t._s(t.user.fansCounts))])]),t._v(" "),s("div",{staticClass:"extra-item"},[s("span",[t._v("被收藏数")]),t._v(" "),s("span",{staticStyle:{color:"#303133"}},[t._v(t._s(t.user.receiveLikeCounts))])])])])])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticStyle:{"margin-top":"20px"}},[s("div",[s("span",{staticStyle:{"font-size":"20px",color:"#303133"}},[t._v("视频列表 \n                    "),s("span",{staticStyle:{border:"1px solid #E4E7ED","border-radius":"5px","padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.totalCount))])])]),t._v(" "),s("user-video-list",{attrs:{list:t.userVideoList}})],1),t._v(" "),s("div",{attrs:{id:"pagination"}},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":t.totalPage,"current-page":t.currentPage},on:{"current-change":t.paginationSizeChange}})],1)])],1)],1)},staticRenderFns:[]};var r=s("VU/8")(i,a,!1,function(t){s("Ut4t")},"data-v-f6e99e80",null);e.default=r.exports},l4Fx:function(t,e){}});
//# sourceMappingURL=0.2e0d3bb2ea06acf3ebc4.js.map